!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t=t||self).vml={})}(this,(function(t){"use strict";function r(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function e(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}function o(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Array.isArray(t)&&(this._vm_fr=e,this._vm_px="-vm",this._vm_d=this._cl(t),this._vm_o=this._sps(r),this._ast())}o.prototype._cl=function(t){return JSON.parse(JSON.stringify(t))},o.prototype._sps=function(t){if(t&&Array.isArray(t)){for(var r=0,e=t.length-1,n=t[0],o=this._cl(this._vm_d);t.length;){var i=t.shift();o=this._spa(o,i,0===r,r===e),r++}return this._od(o,"n",n+this._vm_px)}},o.prototype._spa=function(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=void 0;if(!t||!t.length)return o;if(!this._vm_fr&&!this._ac.apply(this,[t,r]))return this._bu.apply(this,[t,r]);for(var i=Array.prototype.constructor(),s=new Map,p=0,f=0;t.length>0;){var u=t.pop();u[r].length?(void 0!==s.get(r+u[r])?i[0][r+this._vm_px]=void 0:(p=0,e&&(f+=1)),s.set(r+u[r],p)):(p=0,e&&(f+=1)),p++;var h=n({},u);e&&(h.n=f),h[r+this._vm_px]=p,i.unshift(h)}return i},o.prototype._bu=function(t,r){var e=this;return t.map((function(t,o){var i=n(n({},t),{},{n:o+1});return i[r+e._vm_px]=Number.POSITIVE_INFINITY,i}))},o.prototype._ac=function(t,r){var e=!1;if(!t||!Array.isArray(t)||t.length<=0)return e;for(var n=void 0,o=0,i=t.length;o<i;o++){var s=t[o][r];if(void 0!==s&&s===n){e=!0;break}n=s}return e},o.prototype._od=function(t,r,e){if(!t||!Array.isArray(t))return t;var n=t.filter((function(t){return t[e]})).map((function(t){return t[r]}));if(n.length<=0)return t;n=n.reverse();for(var o=0,i=t.length;o<i;o++)void 0!==t[o][e]&&(t[o][r]=n.shift());return t},o.prototype.out=function(){return this._vm_o},o.prototype._ast=function(t,r,e,n,o){if(t&&t.length&&"function"==typeof r&&e&&n&&o){var i=Array.prototype.constructor(),s=t.filter((function(t){return r(t)}));if(s.length){for(var p=0,f=s.length;p<f;p++){var u=s[p],h=this._bst.apply(this,[t,u[n],e,n,o]);h&&(u[o]=h),i.push(u)}return i}}},o.prototype._bst=function(t,r,e,o,i){if(t&&t.length){var s=t.filter((function(t){return t[e]===r}));if(s.length){for(var p=Array.prototype.constructor(),f=0,u=s.length;f<u;f++){var h=n({},s[f]),a=this._bst.apply(this,[t,h[o],e,o,i]);a&&(h[i]=Array.prototype.constructor(),h[i]=h[i].concat(a)),p.push(h)}return p}}},o.prototype.link=function(t,r,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children";return this._vm_o&&this._vm_o.length&&void 0!==r&&e&&"string"==typeof e&&"function"==typeof t?(this._lk(this._vm_o,t,r,e,n),this):this},o.prototype._lk=function(t,r,e,n,o){for(var i=0,s=t.length;i<s;i++)t[i]&&r(t[i])&&(t[i][n]=e),t[i][o]&&this._lk(t[i][o],r,e,n,o);return t},o.prototype.pipe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"parentId",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children";return this._vm_o&&this._vm_o.length?(this._vm_o=this._ast.apply(this,[this._vm_o,t,r,e,n]),this):this},t.default=o,Object.defineProperty(t,"__esModule",{value:!0})}));
