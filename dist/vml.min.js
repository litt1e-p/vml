var vml=function(exports){"use strict";function _defineProperty(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function ownKeys(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,o)}return e}function _objectSpread2(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(e),!0).forEach((function(r){_defineProperty(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function vml(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Array.isArray(t)&&(this._vm_fr=e,this._vm_px="-vm",this._vm_d=this._cl(t),this._vm_o=this._sps(r),this._ast())}return vml.prototype._cl=function(t){return JSON.parse(JSON.stringify(t))},vml.prototype._opt=function(path,obj){var separator=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",properties;return path?(-1===path.indexOf(separator)?properties=Array.of(path):(properties=path.split(separator),obj||(obj=eval("this."+properties[0]),properties.shift())),obj?properties.reduce((function(t,r){return t&&t[r]}),obj):void 0):obj},vml.prototype._sps=function(t){if(t&&Array.isArray(t)){for(var r=0,e=t.length-1,o=t[0],n=this._cl(this._vm_d);t.length;){var i=t.shift();n=this._spa(n,i,0===r,r===e),r++}return this._od(n,"n",o+this._vm_px)}},vml.prototype._spa=function(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=void 0;if(!t||!t.length)return o;if(!this._vm_fr&&!this._ac.apply(this,[t,r]))return this._bu.apply(this,[t,r]);for(var n=Array.prototype.constructor(),i=new Map,p=0,s=0;t.length>0;){var a=t.pop();a[r].length?(void 0!==i.get(r+a[r])?n[0][r+this._vm_px]=void 0:(p=0,e&&(s+=1)),i.set(r+a[r],p)):(p=0,e&&(s+=1)),p++;var v=_objectSpread2({},a);e&&(v.n=s),v[r+this._vm_px]=p,n.unshift(v)}return n},vml.prototype._bu=function(t,r){var e=this;return t.map((function(t,o){var n=_objectSpread2(_objectSpread2({},t),{},{n:o+1});return n[r+e._vm_px]=Number.POSITIVE_INFINITY,n}))},vml.prototype._ac=function(t,r){var e=!1;if(!t||!Array.isArray(t)||t.length<=0)return e;for(var o=void 0,n=0,i=t.length;n<i;n++){var p=t[n][r];if(void 0!==p&&p===o){e=!0;break}o=p}return e},vml.prototype._od=function(t,r,e){if(!t||!Array.isArray(t))return t;var o=t.filter((function(t){return t[e]})).map((function(t){return t[r]}));if(o.length<=0)return t;o=o.reverse();for(var n=0,i=t.length;n<i;n++)void 0!==t[n][e]&&(t[n][r]=o.shift());return t},vml.prototype.out=function(){return this._vm_o},vml.prototype._ast=function(t,r,e,o,n){if(t&&t.length&&"function"==typeof r&&e&&o&&n){var i=Array.prototype.constructor(),p=t.filter((function(t){return r(t)}));if(p.length){for(var s=0,a=p.length;s<a;s++){var v=p[s],u=this._bst.apply(this,[t,v[o],e,o,n]);u&&(v[n]=u),i.push(v)}return i}}},vml.prototype._bst=function(t,r,e,o,n){if(t&&t.length){var i=t.filter((function(t){return t[e]===r}));if(i.length){for(var p=Array.prototype.constructor(),s=0,a=i.length;s<a;s++){var v=_objectSpread2({},i[s]),u=this._bst.apply(this,[t,v[o],e,o,n]);u&&(v[n]=Array.prototype.constructor(),v[n]=v[n].concat(u)),p.push(v)}return p}}},vml.prototype._link=function(t){if(!this._vm_d)return t;for(var r=0,e=this._vm_d.length;r<e;r++)this._vm_d[r]},vml.prototype.pipe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"parentId",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children";return this._vm_o&&this._vm_o.length?(this._vm_o=this._ast.apply(this,[this._vm_o,t,r,e,o]),this):this},exports.default=vml,exports}({});
